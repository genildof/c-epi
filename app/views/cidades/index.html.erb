<% provide(:title, 'Cidades') %>

<h1>Cidades (<%= @cidades.count %>)</h1>

<%= render :partial => 'layouts/tablesearch', locals: {:path => cidades_path, :placeholder => 'Cidade'} %>

<table class="table table-striped"> <!-- table-condensed -->

  <div class="pagination">  <!-- Try apple_pagination, digg_pagination -->
    <%= will_paginate(@cautelas, renderer: BootstrapPagination::Rails) %>
  </div>

  <thead>
  <tr>
    <th>#</th>
    <th>Nome</th>
    <th>Fabrica</th>
    <th>Colaboradores</th>
    <th>Created at</th>
    <th></th>
    <th></th>
  </tr>
  </thead>

  <tbody>
  <% @cidades.each do |cidade| %>
      <tr>
        <td><%= link_to cidade.id, cidade %></td>
        <td><%= link_to cidade.nome, cidade %></td>
        <td><%= cidade.fabrica.nome %></td>
        <td><%= cidade.colaboradors.count %></td>
        <td><%= cidade.created_at.strftime('%d/%m/%Y') %></td>
        <td><%= link_to 'Editar', edit_cidade_path(cidade), :class => 'btn btn-mini' %></td>
        <td><%= link_to 'Excluir', cidade, method: :delete, data: {confirm: 'Confirma a exclusÃ£o?'}, :class => 'btn btn-mini btn-danger' %></td>
      </tr>
  <% end %>
  </tbody>
</table>

<%= link_to 'Nova Cidade', new_cidade_path, :class => 'btn' %>
